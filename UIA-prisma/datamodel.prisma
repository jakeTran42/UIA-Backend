type Guide {
  id: ID! @id
  createdAt: DateTime! @createdAt
  title: String!
  body: String!
  owner: User! @relation(link: INLINE)
}

type User {
  id: ID! @id
  createdAt: DateTime! @createdAt
  handle: String! @unique
  email: String! @unique
  role: Role! @default(value: USER)
  password: String!
  guides: [Guide!]!
}

type Skill {
  id: ID! @id
  name: String! @unique
  description: String!
  skill_type: SkillType
  combat_type: CombatType
  energy: Int! @default(value: 0)
  location: Map! @relation(link: INLINE) 
  class: Class @relation(link: INLINE)
}

type MonsterSkill {
  id: ID! @id
  name: String! @unique
  description: String!
  skill_type: SkillType
  combat_type: CombatType
  energy: Int! @default(value: 0)
}

type Class {
  id: ID! @id
  name: String!
  description: String!
  weapon: String!
  skills: [Skill!]!
}

type Boss {
  id: ID! @id
  name: String! @unique
  element_one: Element @relation(name: "ElementEffectivenessOne")
  element_one_value: Int
  element_two: Element @relation(name: "ElementEffectivenessTwo")
  element_two_value: Int
  locations_found: [Map!]! @relation(link: TABLE)
  continent_found: [Continent!]! @relation(link: TABLE)
}

type BossStruct {
  id: ID! @id
  monster_found: Boss!
  minion_present: Boolean @default(value: false)
  location: StageStruct!
  HP: Int!
  ATK: Int!
  Armor: Int!
  AtkSpd: Float!
  skills: [MonsterSkill!]! @relation(link: TABLE)
}

type StageStruct {
  id: ID! @id
  stage_number: Int!
  map: Map! @relation(link: INLINE)
}

type Map {
  id: ID! @id
  name: String! @unique
  total_stage: Int!
  bosses: [Boss!]!
  previous_map: Map @relation(name: "LastMapRelation" link: INLINE)
  next_map: Map @relation(name: "NextMapRelation" link: INLINE)
  continent: Continent! @relation(link: INLINE)
  obtainable_skills: [Skill!]!
  stages: [BossStruct!]!
}

type Continent {
  id: ID! @id
  name: String! @unique
  bosses: [Boss!]!
  maps: [Map!]!
  next_continent: Continent @relation(name: "NextContinentRelation" link: INLINE)
  previous_continent: Continent @relation(name: "LastContinentRelation" link: INLINE)
}

type Element {
  id: ID! @id
  name: ElementType!
  weakness: ElementType!
  effective: ElementType!
}

enum Role {
  ADMIN
  MODERATOR
  USER
}

enum CombatType {
  RANGE
  MEELEE
  SELF
  TEAM
}

enum ElementType {
  FIRE
  LIGHTNING
  FROST
  EARTH
}

enum SkillType {
  UNKNOWN
  BUFF
  BUFF_AOE
  DAMAGE_TARGET
  DAMAGE_AOE
  DAMAGE_DOT
  HEAL_TARGET
  HEAL_AOE
  HEAL_DOT
  TAUNT
  INTERUPT
  KNOCKUP
  SILENCE
  SUMMON
  DEBUFF
  DISPELL
  ABSORB
  STEALTH
  PASSIVE
}
